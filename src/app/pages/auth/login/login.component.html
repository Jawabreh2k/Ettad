<div class="space-y-8">
  <!-- Header -->
  <div class="text-center space-y-2">
    <h2 class="text-2xl font-bold text-[var(--color-text)] tracking-tight">Sign In</h2>
    <p class="text-sm text-[var(--color-text-muted)] leading-relaxed">
      Enter your credentials to access your account
    </p>
  </div>

  <!-- Login Form -->
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="space-y-5" novalidate>
    <!-- Email Field -->
    <div class="space-y-2">
      <label 
        for="email" 
        class="block text-sm font-semibold text-[var(--color-text)]"
      >
        Email Address
      </label>
      <div class="relative group">
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10">
          <lucide-angular 
            [img]="Mail" 
            class="h-5 w-5 text-[var(--color-text-muted)] group-focus-within:text-[var(--color-brand)] transition-colors duration-200" 
          />
        </div>
        <input
          id="email"
          type="email"
          formControlName="email"
          autocomplete="email"
          class="block w-full pl-12 pr-4 py-3.5 text-base
                 border-2 border-[var(--color-border)] rounded-xl
                 bg-white
                 outline-none focus:outline-none focus:border-[var(--color-brand)] focus:ring-4 focus:ring-[var(--color-brand)]/20
                 placeholder:text-[var(--color-text-light)]
                 transition-all duration-200
                 disabled:bg-[var(--color-background-muted)] disabled:cursor-not-allowed"
          placeholder="your.email@example.com"
          [class.border-red-500]="email?.invalid && email?.touched"
        />
      </div>
      <p 
        *ngIf="getFieldError('email')" 
        class="mt-2 text-sm font-medium text-[var(--color-error)] flex items-center gap-1"
      >
        <lucide-angular [img]="AlertCircle" class="h-4 w-4"></lucide-angular>
        {{ getFieldError('email') }}
      </p>
    </div>

    <!-- Password Field -->
    <div class="space-y-2">
      <label 
        for="password" 
        class="block text-sm font-semibold text-[var(--color-text)]"
      >
        Password
      </label>
      <div class="relative group">
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10">
          <lucide-angular 
            [img]="Lock" 
            class="h-5 w-5 text-[var(--color-text-muted)] group-focus-within:text-[var(--color-brand)] transition-colors duration-200" 
          />
        </div>
        <input
          id="password"
          [type]="showPassword ? 'text' : 'password'"
          formControlName="password"
          autocomplete="current-password"
          class="block w-full pl-12 pr-12 py-3.5 text-base
                 border-2 border-[var(--color-border)] rounded-xl
                 bg-white
                 outline-none focus:outline-none focus:border-[var(--color-brand)] focus:ring-4 focus:ring-[var(--color-brand)]/20
                 placeholder:text-[var(--color-text-light)]
                 transition-all duration-200
                 disabled:bg-[var(--color-background-muted)] disabled:cursor-not-allowed"
          placeholder="Enter your password"
          [class.border-red-500]="password?.invalid && password?.touched"
        />
        <button
          type="button"
          (click)="togglePasswordVisibility()"
          tabindex="-1"
          class="absolute inset-y-0 right-0 pr-4 flex items-center z-10 group/toggle"
          [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'"
        >
          <lucide-angular 
            [img]="showPassword ? EyeOff : Eye" 
            class="h-5 w-5 text-[var(--color-text-muted)] group-hover/toggle:text-[var(--color-text)] transition-colors duration-200" 
          />
        </button>
      </div>
      <p 
        *ngIf="getFieldError('password')" 
        class="mt-2 text-sm font-medium text-[var(--color-error)] flex items-center gap-1"
      >
        <lucide-angular [img]="AlertCircle" class="h-4 w-4"></lucide-angular>
        {{ getFieldError('password') }}
      </p>
    </div>

    <!-- Remember Me & Forgot Password -->
    <div class="flex items-center justify-between pt-1">
      <div class="flex items-center gap-2">
        <input
          id="rememberMe"
          type="checkbox"
          formControlName="rememberMe"
          class="h-4 w-4 rounded border-2 border-[var(--color-border)] 
                 text-[var(--color-brand)] 
                 focus:ring-2 focus:ring-[var(--color-brand)]/20 focus:ring-offset-0
                 transition-colors duration-200
                 cursor-pointer"
        />
        <label 
          for="rememberMe" 
          class="text-sm font-medium text-[var(--color-text)] cursor-pointer select-none"
        >
          Remember me
        </label>
      </div>
    </div>

    <!-- Error Message -->
    <div 
      *ngIf="loginError" 
      class="bg-[var(--color-error)]/5 border-2 border-[var(--color-error)]/20 rounded-xl p-4 animate-in fade-in duration-200"
      role="alert"
    >
      <div class="flex items-start gap-3">
        <lucide-angular [img]="AlertCircle" class="h-5 w-5 text-[var(--color-error)] flex-shrink-0"></lucide-angular>
        <p class="text-sm font-medium text-[var(--color-error)] leading-relaxed">
          {{ loginError }}
        </p>
      </div>
    </div>

    <!-- Submit Button -->
    <div class="pt-2">
      <button
        type="submit"
        [disabled]="isLoading"
        class="w-full bg-[var(--color-brand)] text-white font-semibold
               py-3.5 px-6 rounded-xl
               hover:bg-[var(--color-brand-dark)] 
               focus:outline-none focus:ring-4 focus:ring-[var(--color-brand)]/20
               active:scale-[0.98]
               disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:bg-[var(--color-brand)]
               transition-all duration-200
               shadow-sm hover:shadow-md"
      >
        <span *ngIf="!isLoading" class="inline-flex items-center justify-center gap-2">
          <span>Sign In</span>
          <svg 
            xmlns="http://www.w3.org/2000/svg" 
            class="h-5 w-5" 
            viewBox="0 0 20 20" 
            fill="currentColor"
          >
            <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd" />
          </svg>
        </span>
        <span *ngIf="isLoading" class="inline-flex items-center justify-center gap-3">
          <svg 
            class="animate-spin h-5 w-5 text-white" 
            xmlns="http://www.w3.org/2000/svg" 
            fill="none" 
            viewBox="0 0 24 24"
          >
            <circle 
              class="opacity-25" 
              cx="12" 
              cy="12" 
              r="10" 
              stroke="currentColor" 
              stroke-width="4"
            ></circle>
            <path 
              class="opacity-75" 
              fill="currentColor" 
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
            ></path>
          </svg>
          <span>Signing In...</span>
        </span>
      </button>
    </div>
  </form>
</div>
