<app-modal [isOpen]="isOpen" [title]="title" (closed)="close()">
  <form [formGroup]="roleForm" (ngSubmit)="onSubmit()" class="space-y-6">
    <!-- Role Name -->
    <div>
      <label class="block text-sm font-semibold text-[var(--color-text)] mb-2">
        Role Name <span class="text-[var(--color-error)]">*</span>
      </label>
      <input
        type="text"
        formControlName="name"
        placeholder="Enter role name"
        class="w-full px-4 py-2.5 border-2 border-[var(--color-border)] rounded-lg focus:outline-none focus:border-[var(--color-brand)] focus:ring-4 focus:ring-[var(--color-brand)]/20 transition-all"
        [class.border-[var(--color-error)]]="roleForm.get('name')?.invalid && roleForm.get('name')?.touched"
      />
      <p *ngIf="getFieldError('name')" class="mt-2 text-sm text-[var(--color-error)]">
        {{ getFieldError('name') }}
      </p>
    </div>

    <!-- Super Admin -->
    <div class="flex items-center gap-2">
      <input
        type="checkbox"
        id="isSuperAdmin"
        formControlName="isSuperAdmin"
        class="h-4 w-4 rounded border-2 border-[var(--color-border)] text-[var(--color-brand)] focus:ring-2 focus:ring-[var(--color-brand)]/20"
      />
      <label for="isSuperAdmin" class="text-sm font-medium text-[var(--color-text)]">
        Super Administrator (Full Access)
      </label>
    </div>

    <!-- Default Role -->
    <div class="flex items-center gap-2">
      <input
        type="checkbox"
        id="isDefaultRole"
        formControlName="isDefaultRole"
        class="h-4 w-4 rounded border-2 border-[var(--color-border)] text-[var(--color-brand)] focus:ring-2 focus:ring-[var(--color-brand)]/20"
      />
      <label for="isDefaultRole" class="text-sm font-medium text-[var(--color-text)]">
        Default Role (Auto-assigned to new users)
      </label>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="bg-[var(--color-error)]/10 border border-[var(--color-error)] text-[var(--color-error)] px-4 py-3 rounded-lg">
      {{ errorMessage }}
    </div>

    <!-- Actions -->
    <div class="flex items-center justify-end gap-3 pt-4">
      <app-button
        type="button"
        variant="secondary"
        (click)="close()"
        [disabled]="isLoading"
      >
        Cancel
      </app-button>
      <app-button
        type="submit"
        variant="primary"
        [disabled]="isLoading || roleForm.invalid"
      >
        {{ isLoading ? 'Saving...' : (mode === 'create' ? 'Create Role' : 'Update Role') }}
      </app-button>
    </div>
  </form>
</app-modal>
